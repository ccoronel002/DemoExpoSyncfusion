@using Syncfusion.EJ2;
@using Syncfusion.EJ2.TreeMap;
@section ControlsSection{
    <div class="col-lg-9 control-section">
        <div id="outer" style="width:100%">
            <div id="container" style="width:100%">
                @Html.EJS().TreeMap("container").Load("load").TooltipSettings(new TreeMapTooltipSettings { Visible = true, Format = "${Product} (+${Percentage})" }).TitleSettings(title=>title.Text("Top 10 best selling smartphone brands - 2017").TextStyle(new TreeMapFont { Size = "15px" })).LayoutType(Syncfusion.EJ2.TreeMap.LayoutMode.SliceAndDiceVertical).WeightValuePath("Percentage").RangeColorValuePath("Percentage").LeafItemSettings(leaf=>
           leaf.Fill("#6699cc").LabelPath("Product").Border(new TreeMapBorder { Color= "black", Width= 0.5 }).LabelPosition(Syncfusion.EJ2.TreeMap.LabelPosition.Center).InterSectAction(Syncfusion.EJ2.TreeMap.LabelAlignment.Hide).LabelFormat("${Product} (+${Percentage}) %")).Render()
            </div>
            <div style="margin-left: 75%">
                Source:<a href="http//zeenews.india.com/photos/business/worlds-10-best-selling-smartphone-brands-2033958/samsung-2033959" target="_blank">zeenews.india.com</a>
            </div>
        </div>
    </div>
    <div class="col-lg-3 property-section">
    <table id="property" title="Properties" style="width: 100%">
        <tbody>
            <tr style="height: 50px">
                <td style="width: 40%">
                    <div class="property-text">
                        Export Type
                    </div>
                </td>
                <td style="width: 60%;">
                    <div style="margin-left: -10px">
                        <select id="mode">
                            <option value='JPEG'>JPEG</option>
                            <option value='PNG'>PNG</option>
                            <option value='SVG'>SVG</option>
                            <option value='PDF'>PDF</option>
                        </select>
                    </div>
                </td>
            </tr>
            <tr style="height: 50px">
                <td style="width: 40%">
                    <div class="property-text">File Name</div>
                </td>
                <td style="width: 40%;">
                    <div class="e-float-input" style='margin-top: 0px;'>
                        <input type="text" value="TreeMap" id="fileName" style="margin-left: -10px;width: 70px">
                    </div>
                </td>
            </tr>
            <tr id="button-control" style="height: 50px" align='center'>
                <td>
                    <div style="margin-left: 40%;">
                        <button id="togglebtn1">Export</button>
                    </div>
                </td>
            </tr>
            <tr id="button-control" style="height: 50px">
                <td align="center">
                    <div style="margin-left: 40%;">
                        <button id="togglebtn">Print</button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

</div>

<style>
    #button-control {
        width: 100%;
        text-align: center;
    }

    #control-container {
        padding: 0px !important;
    }

    .e-play-icon::before {
        content: '\e813';
    }

    #button-control {
        width: 100%;
        text-align: center;
    }

    #control-container {
        padding: 0px !important;
    }

    .e-play-icon::before {
        content: '\e728';
    }
</style>

    <script>
        var treemap;
        function load(args) {
            var theme = location.hash.split('/')[1];
            theme = theme ? theme : 'Material';
            args.treemap.theme = (theme.charAt(0).toUpperCase() + theme.slice(1));
            args.treemap.dataSource = [
    { Product: " Samsung", Percentage: 22 },
    { Product: "Apple", Percentage: 11.2 },
    { Product: "Huawei", Percentage: 10.5 },
    { Product: "Oppo", Percentage: 8.4 },
    { Product: "Vivo", Percentage: 6.6 },
    { Product: "Xiaomi", Percentage: 6.3 },
    { Product: "LG", Percentage: 3.6 },
    { Product: "ZTE", Percentage: 3.3 },
    { Product: "Lenovo", Percentage: 3.2 },
    { Product: "Alcate", Percentage: 1.3 }
            ];
            args.treemap.leafItemSettings.colorMapping = [
                {
                    from: 1.3,
                    to: 22,
                    color: '#FAB665',
                    minOpacity: 0.5,
                    maxOpacity: 1
                }
            ];
            treemap = args.treemap;
        }
        var togglebtn = new ej.buttons.Button({
            iconCss: 'e-icons e-play-icon', cssClass: 'e-flat', isPrimary: true,
        });
        togglebtn.appendTo('#togglebtn');
        document.getElementById('togglebtn').onclick = () => {
            treemap.print();
        };
        var mode = new ej.dropdowns.DropDownList({
            index: 0,
            width: 70
        });
        mode.appendTo('#mode');
        var togglebtn1 = new ej.buttons.Button({
            iconCss: 'e-icons e-play-icon', cssClass: 'e-flat', isPrimary: true,
        });
        togglebtn1.appendTo('#togglebtn1');
        document.getElementById('togglebtn1').onclick = () => {
            var fileName = ((document.getElementById('fileName'))).value;
            treemap.export(mode.value, fileName);
        };
    </script>
}
@section ActionDescription{
<p>
    This sample demonstrates the top 10 best-selling smartphone brands. Printing and exporting options has been enabled in this sample.
</p>
}
@section Description{
<p>
    In this example, you can see how to export and print the rendered treemap. Treemap can be exported to JPEG, PNG, SVG and PDF formats.
</p>
}
